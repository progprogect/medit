<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>AI Video Editing</title>
  <link rel="icon" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><text y='.9em' font-size='90'>üé¨</text></svg>">
  <link rel="stylesheet" href="/static/style.css">
</head>
<body>
  <div class="container">
    <div class="app-header">
      <h1>AI Video Editing</h1>
      <p class="subtitle">–ò–Ω—Ç–µ–ª–ª–µ–∫—Ç—É–∞–ª—å–Ω–æ–µ —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –≤–∏–¥–µ–æ</p>
    </div>

    <!-- –ó–∞–≥—Ä—É–∑–∫–∞ –≤–∏–¥–µ–æ (–æ–±—â–∞—è –¥–ª—è B-Roll –∏ –†–µ–¥–∞–∫—Ç–æ—Ä–∞) -->
    <section id="legacyUploadSection" class="upload-section">
      <div id="dropzone" class="dropzone">
        <input type="file" id="fileInput" accept="video/mp4,video/quicktime,video/x-msvideo,video/webm" hidden>
        <p id="dropzoneText">–ü–µ—Ä–µ—Ç–∞—â–∏—Ç–µ –≤–∏–¥–µ–æ —Å—é–¥–∞ –∏–ª–∏ –Ω–∞–∂–º–∏—Ç–µ –¥–ª—è –≤—ã–±–æ—Ä–∞</p>
        <p id="fileInfo" class="file-info hidden"></p>
      </div>
    </section>

    <!-- –í–∫–ª–∞–¥–∫–∏ -->
    <nav class="tabs">
      <button class="tab-btn active" data-tab="create">üìã Create Scenario</button>
      <button class="tab-btn" data-tab="broll">üé¨ –í—Å—Ç–∞–≤–∫–∏ (B-Roll)</button>
      <button class="tab-btn" data-tab="edit">‚úèÔ∏è –†–µ–¥–∞–∫—Ç–æ—Ä</button>
    </nav>

    <!-- ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê –í–ö–õ–ê–î–ö–ê: CREATE SCENARIO ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê -->
    <div id="tab-create" class="tab-content active">
      <div id="createScenarioScreen">
        <section class="create-upload">
          <h2>–î–æ–±–∞–≤—å—Ç–µ –º–µ–¥–∏–∞</h2>
          <div id="createDropzone" class="dropzone create-dropzone">
            <input type="file" id="createFileInput" accept="video/mp4,video/quicktime,video/x-msvideo,video/webm,image/jpeg,image/png,image/webp" multiple hidden>
            <p id="createDropzoneText">–ü–µ—Ä–µ—Ç–∞—â–∏—Ç–µ –≤–∏–¥–µ–æ –∏–ª–∏ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è —Å—é–¥–∞ (–¥–æ 10 —Ñ–∞–π–ª–æ–≤)</p>
          </div>
          <div id="assetList" class="asset-list"></div>
        </section>
        <section class="create-prompt">
          <h2>–û–ø–∏—à–∏—Ç–µ –∂–µ–ª–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç</h2>
          <div class="prompt-input-wrap">
            <textarea id="globalPrompt" rows="4" placeholder="–ù–∞–ø—Ä–∏–º–µ—Ä: –°–¥–µ–ª–∞–π —Ä–µ–∫–ª–∞–º–Ω–æ–µ –≤–∏–¥–µ–æ —Å —Ç–µ–∑–∏—Å–∞–º–∏ –∏ B-roll –≤—Å—Ç–∞–≤–∫–∞–º–∏"></textarea>
            <div class="voice-controls">
              <button id="voicePromptBtn" class="btn-icon" type="button" title="–ù–∞—á–∞—Ç—å –∑–∞–ø–∏—Å—å">üé§</button>
              <span id="voiceRecordingIndicator" class="voice-indicator hidden">–ò–¥—ë—Ç –∑–∞–ø–∏—Å—å‚Ä¶</span>
              <button id="voiceStopBtn" class="btn-icon btn-stop hidden" type="button" title="–ó–∞–∫–æ–Ω—á–∏—Ç—å –∑–∞–ø–∏—Å—å –∏ —Ä–∞—Å–ø–æ–∑–Ω–∞—Ç—å">‚èπ –ó–∞–∫–æ–Ω—á–∏—Ç—å</button>
              <span id="voiceTranscribingIndicator" class="voice-indicator hidden">–†–∞—Å–ø–æ–∑–Ω–∞–≤–∞–Ω–∏–µ‚Ä¶</span>
            </div>
          </div>
        </section>
        <section class="create-reference">
          <label for="referenceLink">–†–µ—Ñ–µ—Ä–µ–Ω—Å (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)</label>
          <input type="url" id="referenceLink" placeholder="https://instagram.com/... –∏–ª–∏ https://youtube.com/...">
        </section>
        <div class="create-actions">
          <button id="generateScenarioBtn" class="btn btn-primary" disabled>Generate scenario</button>
        </div>
      </div>
      <div id="createProgress" class="scan-progress hidden">
        <p class="scan-eta">–ì–µ–Ω–µ—Ä–∞—Ü–∏—è —Å—Ü–µ–Ω–∞—Ä–∏—è‚Ä¶ 30‚Äì90 —Å–µ–∫</p>
      </div>
      <div id="scenarioScreen" class="hidden">
        <div id="scenarioHeader" class="scenario-header"></div>
        <section class="scenario-refine">
          <label for="refinePrompt">–£—Ç–æ—á–Ω–∏—Ç—å —Å—Ü–µ–Ω–∞—Ä–∏–π:</label>
          <div class="refine-input-wrap">
            <textarea id="refinePrompt" rows="2" placeholder="–ù–∞–ø—Ä–∏–º–µ—Ä: –î–æ–±–∞–≤—å –±–æ–ª—å—à–µ —Ç–µ–∫—Å—Ç–æ–≤—ã—Ö —Ç–µ–∑–∏—Å–æ–≤, —Å–æ–∫—Ä–∞—Ç–∏ –¥–æ 30 —Å–µ–∫"></textarea>
            <button id="refineScenarioBtn" class="btn btn-secondary" type="button">–ü—Ä–∏–º–µ–Ω–∏—Ç—å</button>
          </div>
        </section>
        <div class="view-tabs">
          <button class="view-tab active" data-view="scenes">–°—Ü–µ–Ω—ã</button>
          <button class="view-tab" data-view="timeline">–¢–∞–π–º–ª–∞–π–Ω</button>
        </div>
        <div id="scenesView" class="scenes-view"></div>
        <div id="timelineView" class="timeline-view hidden"></div>
        <section class="scenario-render">
          <label for="overlayStyleSelect">–°—Ç–∏–ª—å –Ω–∞–¥–ø–∏—Å–µ–π:</label>
          <select id="overlayStyleSelect"></select>
          <p id="renderHint" class="render-hint hidden"></p>
          <div class="render-actions">
            <button id="renderScenarioBtn" class="btn btn-primary" disabled>–°–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å –≤–∏–¥–µ–æ</button>
          </div>
          <div id="renderProgress" class="scan-progress hidden">
            <p class="scan-eta">–†–µ–Ω–¥–µ—Ä–∏–Ω–≥‚Ä¶ 30‚Äì120 —Å–µ–∫</p>
          </div>
          <div id="renderResult" class="render-result hidden">
            <a id="renderDownload" class="btn btn-secondary" download>–°–∫–∞—á–∞—Ç—å –≤–∏–¥–µ–æ</a>
          </div>
        </section>
      </div>
    </div>

    <!-- ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê –í–ö–õ–ê–î–ö–ê: –í–°–¢–ê–í–ö–ò ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê -->
    <div id="tab-broll" class="tab-content">

      <div class="tab-intro">
        <p>–°–∏—Å—Ç–µ–º–∞ –ø—Ä–æ–∞–Ω–∞–ª–∏–∑–∏—Ä—É–µ—Ç –≤–∏–¥–µ–æ, –Ω–∞–π–¥—ë—Ç –ª—É—á—à–∏–µ –º–æ–º–µ–Ω—Ç—ã –¥–ª—è –≤—Å—Ç–∞–≤–∫–∏ —Å—Ç–æ–∫–æ–≤—ã—Ö –∫–ª–∏–ø–æ–≤ –∏ –ø—Ä–µ–¥–ª–æ–∂–∏—Ç –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–µ –≤–∞—Ä–∏–∞–Ω—Ç—ã.</p>
        <div class="scan-controls">
          <label>–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –≤—Å—Ç–∞–≤–æ–∫:</label>
          <div class="count-buttons">
            <button class="count-btn" data-count="1">1</button>
            <button class="count-btn active" data-count="3">3</button>
            <button class="count-btn" data-count="5">5</button>
          </div>
          <button id="scanBtn" class="btn btn-primary" disabled>–ù–∞–π—Ç–∏ –≤—Å—Ç–∞–≤–∫–∏</button>
        </div>
        <p id="scanHint" class="scan-hint">‚¨Ü –°–Ω–∞—á–∞–ª–∞ –∑–∞–≥—Ä—É–∑–∏—Ç–µ –≤–∏–¥–µ–æ –≤—ã—à–µ</p>
      </div>

      <!-- –°–æ—Å—Ç–æ—è–Ω–∏–µ: –∞–Ω–∞–ª–∏–∑ -->
      <div id="scanProgress" class="scan-progress hidden">
        <div class="progress-steps">
          <div class="progress-step active" id="step-transcribe">
            <span class="step-icon">üéô</span>
            <span class="step-label">–¢—Ä–∞–Ω—Å–∫—Ä–∏–ø—Ü–∏—è</span>
          </div>
          <div class="progress-step" id="step-analyze">
            <span class="step-icon">üîç</span>
            <span class="step-label">–ê–Ω–∞–ª–∏–∑ –º–æ–º–µ–Ω—Ç–æ–≤</span>
          </div>
          <div class="progress-step" id="step-queries">
            <span class="step-icon">üéØ</span>
            <span class="step-label">–ü–æ–¥–±–æ—Ä –∫–ª–∏–ø–æ–≤</span>
          </div>
        </div>
        <p class="scan-eta">–ó–∞–Ω–∏–º–∞–µ—Ç 30‚Äì90 —Å–µ–∫‚Ä¶</p>
      </div>

      <!-- –†–µ–∑—É–ª—å—Ç–∞—Ç—ã: –∫–∞—Ä—Ç–æ—á–∫–∏ –≤—Å—Ç–∞–≤–æ–∫ -->
      <div id="brollResults" class="broll-results hidden">
        <div class="results-header">
          <h3>–ü—Ä–µ–¥–ª–æ–∂–µ–Ω–Ω—ã–µ –≤—Å—Ç–∞–≤–∫–∏</h3>
          <p class="results-hint">–û—Ç–º–µ—Ç—å—Ç–µ –Ω—É–∂–Ω—ã–µ –∏ –ø—Ä–∏ –∂–µ–ª–∞–Ω–∏–∏ –∏–∑–º–µ–Ω–∏—Ç–µ –ø–æ–∏—Å–∫–æ–≤—ã–π –∑–∞–ø—Ä–æ—Å</p>
        </div>
        <div id="slotCards" class="slot-cards"></div>

        <div class="apply-section">
          <button id="applyBtn" class="btn btn-primary btn-large">–ü—Ä–∏–º–µ–Ω–∏—Ç—å –≤—Å—Ç–∞–≤–∫–∏</button>
          <button id="rescanBtn" class="btn btn-ghost">–ù–∞–π—Ç–∏ —Å–Ω–æ–≤–∞</button>
        </div>
      </div>

      <!-- –†–µ–∑—É–ª—å—Ç–∞—Ç –ø–æ—Å–ª–µ –ø—Ä–∏–º–µ–Ω–µ–Ω–∏—è -->
      <div id="brollOutput" class="output-section hidden">
        <h3>–ì–æ—Ç–æ–≤–æ!</h3>
        <p id="brollStatus" class="status"></p>
        <div id="brollPreview" class="preview hidden">
          <video id="brollVideo" controls></video>
        </div>
        <div class="output-actions">
          <a id="brollDownload" class="btn btn-secondary hidden" download>‚¨á –°–∫–∞—á–∞—Ç—å –≤–∏–¥–µ–æ</a>
          <button id="brollNewBtn" class="btn btn-ghost">–ù–æ–≤—ã–π –∑–∞–ø—É—Å–∫</button>
        </div>
      </div>

    </div>

    <!-- ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê –í–ö–õ–ê–î–ö–ê: –†–ï–î–ê–ö–¢–û–† ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê -->
    <div id="tab-edit" class="tab-content">

      <section class="step">
        <h2>–û–ø–∏—à–∏—Ç–µ, —á—Ç–æ —Å–¥–µ–ª–∞—Ç—å</h2>
        <textarea id="prompt" rows="4" placeholder="–ù–∞–ø—Ä–∏–º–µ—Ä: –°–¥–µ–ª–∞–π —Ä–µ–∫–ª–∞–º–Ω–æ–µ –≤–∏–¥–µ–æ, –¥–æ–±–∞–≤—å —Ç–µ–∫—Å—Ç–æ–≤—ã–µ —Ç–µ–∑–∏—Å—ã, –æ–±—Ä–µ–∂—å –¥–æ 45 —Å–µ–∫—É–Ω–¥"></textarea>
      </section>

      <div class="edit-actions">
        <button id="analyzeBtn" class="btn btn-primary" disabled>–ê–Ω–∞–ª–∏–∑–∏—Ä–æ–≤–∞—Ç—å</button>
      </div>

      <section id="planSection" class="plan-section hidden">
        <h2>–ü–ª–∞–Ω —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è</h2>
        <div id="planInfo" class="plan-info"></div>
        <div id="tasksEditorWrap" class="tasks-editor-wrap">
          <label for="tasksEditor">–ó–∞–¥–∞—á–∏ (–º–æ–∂–Ω–æ –æ—Ç—Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å JSON):</label>
          <textarea id="tasksEditor" rows="12" class="tasks-editor"></textarea>
        </div>
        <button id="renderBtn" class="btn btn-primary">–û—Ç—Ä–µ–Ω–¥–µ—Ä–∏—Ç—å</button>
      </section>

      <section id="resultSection" class="result-section hidden">
        <h2>–†–µ–∑—É–ª—å—Ç–∞—Ç</h2>
        <p id="status" class="status"></p>
        <div id="preview" class="preview hidden">
          <video id="previewVideo" controls></video>
        </div>
        <div class="output-actions">
          <a id="downloadBtn" class="btn btn-secondary hidden" download>‚¨á –°–∫–∞—á–∞—Ç—å –≤–∏–¥–µ–æ</a>
        </div>
      </section>

    </div>

    <div id="error" class="error hidden"></div>
  </div>

  <script src="/static/app.js"></script>
</body>
</html>
